<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>시그니처 육사오 설치</title>
  <link rel="manifest" href="manifest.json" />
</head>
<body>
  <!-- 로고 및 안내 문구 -->
  <p style="text-align:center;">
    <img src="logo_ume.png" alt="시그니처 육사오 로고" />
  </p>
  <h1>시그니처 육사오 웹앱 설치</h1>
  <p>시그니처 육사오 웹사이트를 홈 화면에 추가하여 앱처럼 편리하게 이용하세요.</p>
  <ol>
    <li>삼성 인터넷 브라우저의 메뉴에서 **홈 화면에 추가**를 선택하세요:contentReference[oaicite:6]{index=6}.</li>
    <li>또는 아래 **앱 설치** 버튼을 눌러 설치를 진행하세요.</li>
  </ol>
  <button id="installBtn" hidden>앱 설치</button>

  <script>
    // 서비스 워커 등록
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js').catch(console.error);
    }
    // PWA 설치 프로ンプ트 제어
    let deferredPrompt;
    const installBtn = document.getElementById('installBtn');
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();             // 기본 설치 배너 중단
      deferredPrompt = e;             // 이벤트 객체 저장
      installBtn.hidden = false;      // 설치 버튼 표시
    });
    installBtn.addEventListener('click', () => {
      if (deferredPrompt) {
        deferredPrompt.prompt();      // 설치 팝업 표시
        deferredPrompt.userChoice.then((choice) => {
          console.log(`User response: ${choice.outcome}`);
          deferredPrompt = null;
          installBtn.hidden = true;   // 설치 버튼 숨기기 (한번 사용 후)
        });
      }
    });
  </script>
</body>
</html>
