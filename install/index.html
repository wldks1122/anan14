
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>시그니처 645 바로가기 추가</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#ffffff" />
</head>
<body style="text-align: center; padding: 40px 20px; font-family: sans-serif; background-color: #f9f9f9;">
  <img src="logo_ume.png" alt="Signature 645 로고" style="max-width: 220px; margin-bottom: 20px;" />
  <h2 style="color: #222;">📲 시그니처 바로가기 추가하기</h2>
  <p style="font-size: 16px; color: #444; margin-bottom: 30px;">
    홈화면에 시그니처 바로가기를 추가하시면<br/>
    매번 주소 입력 없이 바로 이동하실 수 있어요 😊<br/><br/>
    <strong>아래 버튼을 눌러 홈화면에 추가해보세요!</strong>
  </p>
  <button id="installAndConnect" style="padding: 14px 28px; font-size: 16px; border: none; background-color: #d3cce3; color: #000; border-radius: 6px; cursor: pointer; display: none;">
    ✅ 홈화면 추가 + 바로 이동
  </button>

  <script>
    const userAgent = navigator.userAgent.toLowerCase();
    if (userAgent.includes('kakaotalk') && userAgent.includes('android')) {
      window.location.href = "intent://행복지안.com/install/#Intent;scheme=https;package=com.sec.android.app.sbrowser;end";
    }

    let deferredPrompt;

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      document.getElementById('installAndConnect').style.display = 'inline-block';
    });

    document.getElementById('installAndConnect').addEventListener('click', async () => {
      if (!deferredPrompt) {
        window.location.href = 'https://signature645o.com/login';
        return;
      }

      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;

      if (outcome === 'accepted') {
        window.location.href = 'https://signature645o.com/login';
      } else {
        alert('홈화면 추가는 건너뛰셨어요. 로그인 페이지로 이동할게요!');
        window.location.href = 'https://signature645o.com/login';
      }

      deferredPrompt = null;
    });
  </script>
</body>
</html>
